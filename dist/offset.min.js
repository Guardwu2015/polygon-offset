function t(){return function h(g,c,a){function e(f,d){if(!c[f]){if(!g[f]){var k="function"==typeof require&&require;if(!d&&k)return k(f,!0);if(b)return b(f,!0);throw Error("Cannot find module '"+f+"'");}k=c[f]={exports:{}};g[f][0].call(k.exports,function(b){var a=g[f][1][b];return e(a?a:b)},k,k.exports,h,g,c,a)}return c[f].exports}for(var b="function"==typeof require&&require,d=0;d<a.length;d++)e(a[d]);return e}({1:[function(h,g){var c=h("./polygon");g.exports=function(a,e,b,d){a=new c(a);e=new c(e);
return a.clip(e,b,d)}},{"./polygon":4}],2:[function(h,g){var c=h("./clip");g.exports={union:function(a,e){return c(a,e,!1,!1)},intersection:function(a,e){return c(a,e,!0,!0)},diff:function(a,e){return c(a,e,!1,!0)},clip:c}},{"./clip":1}],3:[function(h,g){function c(a,c,b,d){this.o=this.toSource=this.y=this.x=0;var f=(d.y-b.y)*(c.x-a.x)-(d.x-b.x)*(c.y-a.y);0!==f&&(this.toSource=((d.x-b.x)*(a.y-b.y)-(d.y-b.y)*(a.x-b.x))/f,this.o=((c.x-a.x)*(a.y-b.y)-(c.y-a.y)*(a.x-b.x))/f,this.valid()&&(this.x=a.x+
this.toSource*(c.x-a.x),this.y=a.y+this.toSource*(c.y-a.y)))}c.prototype.valid=function(){return 0<this.toSource&&1>this.toSource&&0<this.o&&1>this.o};g.exports=c},{}],4:[function(h,g){function c(b,d){this.first=null;this.i=0;this.v=null;this.A="undefined"===typeof d?Array.isArray(b[0]):d;for(var f=0,c=b.length;f<c;f++)this.l(new a(b[f]))}var a=h("./vertex"),e=h("./intersection");c.prototype.l=function(b){if(null==this.first)this.first=b,this.first.next=b,this.first.c=b;else{var a=this.first,f=a.c;
a.c=b;b.next=a;b.c=f;f.next=b}this.i++};c.prototype.I=function(b,a,f){for(;!a.b(f)&&a.u<b.u;)a=a.next;b.next=a;f=a.c;b.c=f;f.next=b;a.c=b;this.i++};c.prototype.m=function(b){for(;b.a;)b=b.next;return b};c.prototype.N=function(){var b=this.M||this.first;do{if(b.a&&!b.h)break;b=b.next}while(!b.b(this.first));return this.M=b};c.prototype.O=function(){var b=this.v||this.first;do{if(b.a&&!b.h)return this.v=b,!0;b=b.next}while(!b.b(this.first));this.v=null;return!1};c.prototype.w=function(){var b=[],a=
this.first;if(this.A){do b.push([a.x,a.y]),a=a.next;while(a!==this.first)}else{do b.push({x:a.x,y:a.y}),a=a.next;while(a!==this.first)}return b};c.prototype.clip=function(b,d,f){var m=this.first,k=b.first,n,l;do{if(!m.a){do k.a||(l=new e(m,this.m(m.next),k,b.m(k.next)),l.valid()&&(n=a.G(l.x,l.y,l.toSource),l=a.G(l.x,l.y,l.o),n.g=l,l.g=n,this.I(n,m,this.m(m.next)),b.I(l,k,b.m(k.next)))),k=k.next;while(!k.b(b.first))}m=m.next}while(!m.b(this.first));m=this.first;k=b.first;n=m.K(b);l=k.K(this);d^=n;
f^=l;do m.a&&(m.j=d,d=!d),m=m.next;while(!m.b(this.first));do k.a&&(k.j=f,f=!f),k=k.next;while(!k.b(b.first));for(d=[];this.O();){f=this.N();m=new c([],this.A);m.l(new a(f.x,f.y));do{f.L();if(f.j){do f=f.next,m.l(new a(f.x,f.y));while(!f.a)}else{do f=f.c,m.l(new a(f.x,f.y));while(!f.a)}f=f.g}while(!f.h);d.push(m.w())}0===d.length&&(n&&d.push(this.w()),l&&d.push(b.w()),0===d.length&&(d=null));return d};g.exports=c},{"./intersection":3,"./vertex":5}],5:[function(h,g){function c(a,c){1===arguments.length&&
(Array.isArray(a)?(c=a[1],a=a[0]):(c=a.y,a=a.x));this.x=a;this.y=c;this.g=this.c=this.next=null;this.u=0;this.j=!0;this.h=this.a=!1}c.G=function(a,e,b){a=new c(a,e);a.u=b;a.a=!0;a.j=!1;return a};c.prototype.L=function(){this.h=!0;null===this.g||this.g.h||this.g.L()};c.prototype.b=function(a){return this.x===a.x&&this.y===a.y};c.prototype.K=function(a){var c=!1,b=a.first,d=b.next,f=this.x,m=this.y;do(b.y<m&&d.y>=m||d.y<m&&b.y>=m)&&(b.x<=f||d.x<=f)&&(c^=b.x+(m-b.y)/(d.y-b.y)*(d.x-b.x)<f),b=b.next,d=
b.next||a.first;while(!b.b(a.first));return c};g.exports=c},{}],6:[function(h,g){function c(a,c){this.current=a;this.next=c;this.C=this.J();this.D=this.P()}c.prototype.P=function(){var a=this.J();return[-a[0],-a[1]]};c.prototype.J=function(){var a=this.next[0]-this.current[0],c=this.next[1]-this.current[1],b=Math.sqrt(a*a+c*c);return[-c/b,a/b]};c.prototype.offset=function(a,e){var b=this.current,d=this.next;return new c([b[0]+a,b[1]+e],[d[0]+a,d[1]+e])};g.exports=c},{}],7:[function(h,g){g.exports=
function(c,a,e,b){var d=(b[1]-e[1])*(a[0]-c[0])-(b[0]-e[0])*(a[1]-c[1]);if(0==d)return null;b=((b[0]-e[0])*(c[1]-e[1])-(b[1]-e[1])*(c[0]-e[0]))/d;e=((a[0]-c[0])*(c[1]-e[1])-(a[1]-c[1])*(c[0]-e[0]))/d;return 0>b||0>e||1<b||1<e?null:[c[0]+b*(a[0]-c[0]),c[1]+b*(a[1]-c[1])]}},{}],8:[function(h,g){function c(a,b){this.f=this.i=null;this.B=!1;a&&this.data(a);this.s=b||5}var a=h("greiner-hormann"),e=h("./edge"),b=h("./intersection");"use strict";var d=Math.atan2;c.prototype.data=function(a){a=this.R(a);
for(var b=[],c=0,d=a.length;c<d;c++)b.push(new e(a[c],a[(c+1)%d]));this.i=a;this.f=b;return this};c.prototype.arcSegments=function(a){this.s=a;return this};c.prototype.R=function(a){var b=a.length;a[0][0]===a[b-1][0]&&a[0][1]===a[b-1][1]&&(a=a.slice(0,b-1),this.B=!0);return a};c.prototype.F=function(a,b,c,n,e,g,h){var q=2*Math.PI,r=d(n[1]-b[1],n[0]-b[0]),p=d(e[1]-b[1],e[0]-b[0]);0===g%2&&--g;0>r&&(r+=q);0>p&&(p+=q);p=r>p?r-p:r+q-p;h=(h?-p:q-p)/g;a.push(n);for(n=1;n<g;++n)p=r+h*n,a.push([b[0]+Math.cos(p)*
c,b[1]+Math.sin(p)*c]);a.push(e)};c.prototype.padding=function(c){var d=[],k=[],e,l;e=0;for(l=this.f.length;e<l;e++){var g=this.f[e];d.push(g.offset(g.D[0]*c,g.D[1]*c))}e=0;for(l=d.length;e<l;e++){var g=d[e],h=d[(e+l-1)%l],q=b(h.current,h.next,g.current,g.next);q?k.push(q):this.F(k,this.f[e].current,c,h.next,g.current,this.s,!1)}k=(c=a.union(k,k))?c[0]:k;return k=this.H(k)};c.prototype.margin=function(c){var d=[],e=[],g,l;g=0;for(l=this.f.length;g<l;g++){var h=this.f[g];d.push(h.offset(h.C[0]*c,h.C[1]*
c))}g=0;for(l=d.length;g<l;g++){var h=d[g],v=d[(g+l-1)%l],q=b(v.current,v.next,h.current,h.next);q?e.push(q):this.F(e,this.f[g].current,c,v.next,h.current,this.s,!0)}if(c=a.union(e,e))c=c[0],e=c.slice(0,c.length/2);return e=this.H(e)};c.prototype.H=function(a){this.B&&a.push([a[0][0],a[0][1]]);return a};c.prototype.offset=function(a){return 0===a?this.i:0<a?this.margin(a):this.padding(-a)};g.exports=c},{"./edge":6,"./intersection":7,"greiner-hormann":2}]},{},[8])(8)}
if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.S)define([],t);else{var u;"undefined"!=typeof window?u=window:"undefined"!=typeof global?u=global:"undefined"!=typeof self&&(u=self);u.Offset=t()}!0;
