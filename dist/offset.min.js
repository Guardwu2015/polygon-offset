/*
 Licensed under MIT License
*/
function r(){return function q(k,d,g){function f(a,c){if(!d[a]){if(!k[a]){var b="function"==typeof require&&require;if(!c&&b)return b(a,!0);if(h)return h(a,!0);b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b;}b=d[a]={exports:{}};k[a][0].call(b.exports,function(b){var c=k[a][1][b];return f(c?c:b)},b,b.exports,q,k,d,g)}return d[a].exports}for(var h="function"==typeof require&&require,n=0;n<g.length;n++)f(g[n]);return f}({1:[function(q,k,d){(function(g,f){"object"===typeof d?
k.exports=f():window.greinerHormann=f()})(this,function(){function g(a,c){this.first=null;this.k=0;this.m=null;this.o="undefined"===typeof c?Array.isArray(a[0]):c;for(var b=0,e=a.length;b<e;b++)this.h(new h(a[b]))}function f(a,c,b,e){this.j=this.toSource=this.y=this.x=0;var l=(e.y-b.y)*(c.x-a.x)-(e.x-b.x)*(c.y-a.y);0!==l&&(this.toSource=((e.x-b.x)*(a.y-b.y)-(e.y-b.y)*(a.x-b.x))/l,this.j=((c.x-a.x)*(a.y-b.y)-(c.y-a.y)*(a.x-b.x))/l,this.valid()&&(this.x=a.x+this.toSource*(c.x-a.x),this.y=a.y+this.toSource*
(c.y-a.y)))}function h(a,c){1===arguments.length&&(Array.isArray(a)?(c=a[1],a=a[0]):(c=a.y,a=a.x));this.x=a;this.y=c;this.d=this.c=this.next=null;this.l=0;this.g=!0;this.f=this.a=!1}function d(a,c,b,e){a=new g(a);c=new g(c);return a.clip(c,b,e)}Array.isArray=Array.isArray||function(a){return Boolean(a&&"[object Array]"===Object.prototype.toString.call(Object(a)))};h.t=function(a,c,b){a=new h(a,c);a.l=b;a.a=!0;a.g=!1;return a};h.prototype.A=function(){this.f=!0;null===this.d||this.d.f||this.d.A()};
h.prototype.b=function(a){return this.x===a.x&&this.y===a.y};h.prototype.w=function(a){var c=!1,b=a.first,e=b.next,l=this.x,g=this.y;do(b.y<g&&e.y>=g||e.y<g&&b.y>=g)&&(b.x<=l||e.x<=l)&&(c^=b.x+(g-b.y)/(e.y-b.y)*(e.x-b.x)<l),b=b.next,e=b.next||a.first;while(!b.b(a.first));return c};f.prototype.valid=function(){return 0<this.toSource&&1>this.toSource&&0<this.j&&1>this.j};g.prototype.h=function(a){if(null==this.first)this.first=a,this.first.next=a,this.first.c=a;else{var c=this.first,b=c.c;c.c=a;a.next=
c;a.c=b;b.next=a}this.k++};g.prototype.u=function(a,c,b){for(;!c.b(b)&&c.l<a.l;)c=c.next;a.next=c;b=c.c;a.c=b;b.next=a;c.c=a;this.k++};g.prototype.i=function(a){for(;a.a;)a=a.next;return a};g.prototype.C=function(){var a=this.B||this.first;do{if(a.a&&!a.f)break;a=a.next}while(!a.b(this.first));return this.B=a};g.prototype.D=function(){var a=this.m||this.first;do{if(a.a&&!a.f)return this.m=a,!0;a=a.next}while(!a.b(this.first));this.m=null;return!1};g.prototype.n=function(){var a=[],c=this.first;if(this.o){do a.push([c.x,
c.y]),c=c.next;while(c!==this.first)}else{do a.push({x:c.x,y:c.y}),c=c.next;while(c!==this.first)}return a};g.prototype.clip=function(a,c,b){var e=this.first,l=a.first,d,m;do{if(!e.a){do l.a||(m=new f(e,this.i(e.next),l,a.i(l.next)),m.valid()&&(d=h.t(m.x,m.y,m.toSource),m=h.t(m.x,m.y,m.j),d.d=m,m.d=d,this.u(d,e,this.i(e.next)),a.u(m,l,a.i(l.next)))),l=l.next;while(!l.b(a.first))}e=e.next}while(!e.b(this.first));e=this.first;l=a.first;d=e.w(a);m=l.w(this);c^=d;b^=m;do e.a&&(e.g=c,c=!c),e=e.next;while(!e.b(this.first));
do l.a&&(l.g=b,b=!b),l=l.next;while(!l.b(a.first));for(c=[];this.D();){b=this.C();e=new g([],this.o);e.h(new h(b.x,b.y));do{b.A();if(b.g){do b=b.next,e.h(new h(b.x,b.y));while(!b.a)}else{do b=b.c,e.h(new h(b.x,b.y));while(!b.a)}b=b.d}while(!b.f);c.push(e.n())}0===c.length&&(d&&c.push(this.n()),m&&c.push(a.n()),0===c.length&&(c=null));return c};return{union:function(a,c){return d(a,c,!1,!1)},intersection:function(a,c){return d(a,c,!0,!0)},diff:function(a,c){return d(a,c,!1,!0)},clip:d}})},{}],2:[function(q,
k){function d(d,f){this.current=d;this.next=f;this.p=this.v();this.q=this.F()}d.prototype.F=function(){var d=this.v();return{x:-d.x,y:-d.y}};d.prototype.v=function(){var d=this.next.x-this.current.x,f=this.next.y-this.current.y,h=Math.sqrt(d*d+f*f);return{x:-f/h,y:d/h}};d.prototype.offset=function(g,f){var h=this.current,n=this.next;return new d({x:h.x+g,y:h.y+f},{x:n.x+g,y:n.y+f})};k.exports=d},{}],3:[function(q,k){k.exports=function(d,g,f,h){var n=(h.y-f.y)*(g.x-d.x)-(h.x-f.x)*(g.y-d.y);if(0==n)return null;
h=((h.x-f.x)*(d.y-f.y)-(h.y-f.y)*(d.x-f.x))/n;f=((g.x-d.x)*(d.y-f.y)-(g.y-d.y)*(d.x-f.x))/n;return 0>h||0>f||1<h||1<f?null:{x:d.x+h*(g.x-d.x),y:d.y+h*(g.y-d.y)}}},{}],4:[function(q,k){function d(a,c){for(var b=[],e=0,d=a.length;e<d;e++)b.push(new f(a[e],a[(e+1)%d]));this.k=a;this.e=b;this.r=c||5}var g=q("greiner-hormann"),f=q("./edge"),h=q("./intersection");"use strict";var n=Math.atan2;d.prototype.s=function(a,c,b,e,d,g,h){var f=2*Math.PI,k=n(e.y-c.y,e.x-c.x),p=n(d.y-c.y,d.x-c.x);0===g%2&&--g;0>
k&&(k+=f);0>p&&(p+=f);p=k>p?k-p:k+f-p;h=(h?-p:f-p)/g;a.push(e);for(e=1;e<g;++e)p=k+h*e,a.push({x:c.x+Math.cos(p)*b,y:c.y+Math.sin(p)*b});a.push(d)};d.prototype.padding=function(a){var c=[],b=[],e,d;e=0;for(d=this.e.length;e<d;e++){var f=this.e[e];c.push(f.offset(f.q.x*a,f.q.y*a))}e=0;for(d=c.length;e<d;e++){var f=c[e],m=c[(e+d-1)%d],k=h(m.current,m.next,f.current,f.next);k?b.push(k):this.s(b,this.e[e].current,a,m.next,f.current,this.r,!1)}return b=(a=g.union(b,b))?a[0]:b};d.prototype.margin=function(a){var c=
[],b=[],e,d;e=0;for(d=this.e.length;e<d;e++){var f=this.e[e];c.push(f.offset(f.p.x*a,f.p.y*a))}e=0;for(d=c.length;e<d;e++){var f=c[e],k=c[(e+d-1)%d],n=h(k.current,k.next,f.current,f.next);n?b.push(n):this.s(b,this.e[e].current,a,k.next,f.current,this.r,!0)}if(a=g.union(b,b))a=a[0],b=a.slice(0,a.length/2);return b};d.prototype.offset=function(a){return 0===a?this.k:0<a?this.margin(a):this.padding(-a)};k.exports=d},{"./edge":2,"./intersection":3,"greiner-hormann":1}]},{},[4])(4)}
if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.G)define([],r);else{var s;"undefined"!=typeof window?s=window:"undefined"!=typeof global?s=global:"undefined"!=typeof self&&(s=self);s.Offset=r()}!0;
